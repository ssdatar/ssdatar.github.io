const projData = [{"project":"Capitol Protesters And Rioters From Mass. Vow To Increase Ranks","url":"https://www.wbur.org/investigations/2021/02/05/super-happy-fun-neo-nazi-rioters-hate-massachusetts-insurrection","org":"WBUR","img":"riot_600.jpg"},
{"project":"Some Boston Police Officers Have Been On Medical Leave For Years, Costing The City Millions","url":"https://www.wbur.org/news/2020/12/21/boston-police-medical-leave-overtime-costs","org":"WBUR","img":"wbur-cops_600.jpg"},
{"project":"Hundreds Of Businesses In Mass. Violated COVID-19 Rules, Putting Workers At Risk","url":"https://www.wbur.org/news/2020/12/14/covid-businesses-violations-massachusetts-employees-covid-19-regulations-safety","org":"WBUR","img":"wbur-businesses_600.jpg"},
{"project":"Utility Regulators Ignored Conflict Of Interest Concerns For National Grid Audit","url":"https://www.wbur.org/investigations/2020/11/12/conflict-of-interest-investigation-national-grid-utility-regulators-massachusetts","org":"WBUR","img":"fti_600.jpg"},
{"project":"Is death the great equalizer?","url":"https://apps.bostonglobe.com/metro/investigations/spotlight/2020/09/last-words/part1-dying-poor/index.html","org":"The Boston Globe","img":"https://apps.bostonglobe.com/metro/investigations/spotlight/2020/09/last-words/assets/images/day1-share.jpg"},
{"project":"Dangerous drivers should have lost their licenses. They didn't — and others died","url":"https://apps.bostonglobe.com/2020/08/metro/investigations/blindspot/part-1/","org":"The Boston Globe","img":"rmv_600.jpg"},
{"project":"The virus’s tale","url":"https://apps.bostonglobe.com/metro/graphics/2020/05/coronavirus-tale/","org":"The Boston Globe","img":"coronavirus-tale-og.jpg"},
{"project":"Coronavirus deaths in Mass. are likely far higher than what’s been reported. Here’s why","url":"https://www.bostonglobe.com/2020/04/22/nation/official-toll-massachusetts-coronavirus-deaths-likely-undercounted-review-shows/","org":"The Boston Globe","img":"https://bostonglobe-prod.cdn.arcpublishing.com/resizer/6vUM1pxTNJi5-uV8OpZrqlUckYI=/1440x0/arc-anglerfish-arc2-prod-bostonglobe.s3.amazonaws.com/public/TFUVTTODH6XSVP6AVDGY5X5AMU.jpg"},
{"project":"How overwhelmed could New England hospitals become? Explore maps of different scenarios","url":"https://www.bostonglobe.com/2020/03/26/nation/how-overwhelmed-could-new-england-hospitals-become-explore-maps-different-scenarios/","org":"The Boston Globe","img":"https://bostonglobe-prod.cdn.arcpublishing.com/resizer/It_ElsukaYmpbH312-Anx_cHbhg=/1440x0/arc-anglerfish-arc2-prod-bostonglobe.s3.amazonaws.com/public/CBSAPTBWBBHLRHUHNFINSKFRFY.jpg"},
{"project":"Seeing Red: A Spotlight report on traffic and congestion in metro Boston ","url":"https://apps.bostonglobe.com/metro/investigations/spotlight/2019/11/19/seeing-red/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/metro/investigations/spotlight/2019/11/19/seeing-red/assets/images/optimized/ryantrafficrush3spotlight_1280.jpg"},
{"project":"At the edge of a warming world","url":"https://apps.bostonglobe.com/metro/2019/09/26/cape-cod-climate-change/story/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/metro/2019/09/26/cape-cod-climate-change/assets/images/landing_1280.jpg"},
{"project":"For Red Line commutes, a roll of the dice and branch determine timing","url":"https://www.bostonglobe.com/metro/2019/08/06/roll-dice-red-line/oVvMxKrNk4sdruBzdRUzFM/story.html","org":"The Boston Globe","img":"https://bostonglobe-prod.cdn.arcpublishing.com/resizer/K8hASOuwACEUyQt1O7xETrc4PHo=/1440x0/arc-anglerfish-arc2-prod-bostonglobe.s3.amazonaws.com/public/QDLA3TVPXEI6TJPIHE2PSPSJ2I.jpg"},
{"project":"The Valedictorians Project: What became of Boston's brightest?","url":"https://apps.bostonglobe.com/magazine/graphics/2019/01/17/valedictorians/","org":"The Boston Globe","img":"landingcover_1200.jpg"},
{"project":"Who’s running for president in 2020?","url":"https://apps.bostonglobe.com/news/politics/graphics/2019/03/president-2020-candidates/","org":"The Boston Globe","img":"og-2020.jpg"},
{"project":"What the Mueller report says about Trump and more","url":"https://apps.bostonglobe.com/news/politics/graphics/2019/03/mueller-report/","org":"The Boston Globe","img":"report_topper.jpg"},
{"project":"Here’s how the Patriots Super Bowl roster evolved around Tom Brady","url":"https://apps.bostonglobe.com/sports/graphics/2019/02/03/superbowl-2019-patriots-roster-brady/","org":"The Boston Globe","img":"og.jpg"},
{"project":"Inside the secret courts of Massachusetts","url":"https://apps.bostonglobe.com/metro/investigations/spotlight/secret-courts-in-massachusetts/","org":"The Boston Globe","img":"secret_og_1200.jpg"},
{"project":"Gladiator: The story of Aaron Hernandez and Football Inc.","url":"https://apps.bostonglobe.com/spotlight/gladiator/","org":"The Boston Globe","img":"gladiator_og.jpg"},
{"project":"Elections 2018","url":"https://www3.bostonglobe.com/elections/2018/?arc404=true","org":"The Boston Globe","img":"https://apps.bostonglobe.com/elections/2018/assets/images/election_us_og.jpg"},
{"project":"What happened when Boston Public Schools tried for equity with an algorithm","url":"https://apps.bostonglobe.com/ideas/graphics/2018/09/equity-machine/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/ideas/graphics/2018/09/equity-machine/assets/og.jpg"},
{"project":"Journalists are not the enemy","url":"https://apps.bostonglobe.com/opinion/graphics/2018/08/freepress/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/opinion/graphics/2018/08/freepress/assets/freepress_og.jpg"},
{"project":"TSA is tracking regular travelers like terrorists in secret surveillance","url":"https://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/news/nation/graphics/2018/07/tsa-quiet-skies/assets/img/airport_delay_1200.jpg"},
{"project":"Traffic, crowding, cancellations: This MBTA route shows all the T’s bus problems","url":"https://apps.bostonglobe.com/metro/graphics/2018/08/111-bus/","org":"The Boston Globe","img":"https://apps.bostonglobe.com/metro/graphics/2018/08/111-bus/assets/img/bus_og_1200.jpg"},
{"project":"The case for ending Google’s Internet domination","url":"https://apps.bostonglobe.com/opinion/graphics/2018/06/break-google/","org":"The Boston Globe","img":"break.gif"},
{"project":"Doctors and sex abuse: How well does your state protect patients?","url":"https://doctors.ajc.com/states/","org":"Atlanta Journal-Constitution","img":"http://s3.amazonaws.com/ajc-doctors-images/Doc-stethoscope-intro_social.jpg"},
{"project":"Families, not job seekers, gain the most from legal immigration","url":"https://www.ajc.com/news/gen-politics/families-not-job-seekers-gain-the-most-from-legal-immigration/mMeYq4d9MuXy4d5TwCvOPJ/","org":"Atlanta Journal-Constitution","img":"https://www.ajc.com/resizer/V8fzg7ncZ_2G-T9qyw3thDqDjXc=/1066x600/cloudfront-us-east-1.images.arcpublishing.com/ajc/6ENUZX6OP75TQGCKGAO4OBZW4U.png"},
{"project":"Which are Georgia's winning industries?","url":"https://www.ajc.com/business/which-are-georgia-winning-and-losing-job-industries-since-2000/8eIZ0Q6X1NfMjk3KEYSsZJ/","org":"Atlanta Journal-Constitution","img":"https://s3.amazonaws.com/ajc-staging-sites/georgia-industries/img/trade-all.jpg"},
{"project":"How Georgia’s Sixth Congressional District voted","url":"https://www.ajc.com/news/gen-politics/how-each-neighborhood-voted-the-6th-district-runoff/72ZamHK2RQLoVsvFhcfWjM/","org":"Atlanta Journal-Constitution","img":"map-precinct.jpg"},
{"project":"After Virginia, Georgia has the most Confederate symbols in the country","url":"https://www.ajc.com/news/state--regional-govt--politics/after-virginia-georgia-has-the-most-confederate-symbols-the-country/vZPnQ2kGSd9xgURzS5kJiJ/","org":"Atlanta Journal-Constitution","img":"https://www.ajc.com/resizer/M2PLdgBkBWt5qWE-IrHjV3ivoc0=/1066x600/cloudfront-us-east-1.images.arcpublishing.com/ajc/S2IKTBBR2SIA6HW4A7PU2YYZBQ.jpg"},
{"project":"The Ultimate Atlanta School Guide","url":"https://schools.ajc.com/#/schools","org":"Atlanta Journal-Constitution","img":"https://schools.ajc.com/images/school.jpg"}];

const projects = d3.select('#code-projects')
  .selectAll('.portfolio-item')
  .data(projData)
  .join('div')
  .attr('class', 'portfolio-item');

const links = projects
  .append('a')
  .attr('href', d => d.url);

const divs = links
  .append('div')
  .attr('class', 'portfolio-item__img');

divs.append('img')
  .attr('src', d => d.img.indexOf('http') > -1 ? d.img : 
    d.project.indexOf('Sixth Congressional') > -1 || d.img.indexOf('_600') > -1
    ? `assets/${d.img}` :
    `${d.url}assets/images/${d.img}`);


divs.append('h3')
  .attr('class', 'portfolio-item__title')
  .text(d => d.project);

divs.append('p')
  .attr('class', 'portfolio-item__org')
  .append('span')
  .text(d => d.org);